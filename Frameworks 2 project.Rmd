
title: "R Markdown - Frameworks 2 project"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#Define dataset

```{r}
dat = Frameworks_2_Dataset_Raw_AssistanceListings_DataGov_PUBLIC_CURRENT
```

#Clean Data

This step requires the 'textclean' package.  We are then going to replace all instances of extra text in the file.

```{r}
library(textclean)
```

#Define Tokens

```{r}
tokens = list("list","act","description","awarded","lump","other","isApplicable")

rawrows = dat[,1:30]
goodrows = dat[,30:38]
```

#Clean data
```{r}

rawrows = apply(rawrows,2,function(x)strip(x,char.keep = '"',digit.remove = FALSE, apostrophe.remove = FALSE, lower.case = FALSE))
rawrows = apply(rawrows,2,function(x)replace_tokens(x, tokens)) 
rawrows = gsub("USC false.*","",rawrows)
rawrows = gsub('" ',"",rawrows)

dat = cbind(rawrows,goodrows)
dat = gsub("false.*", "", dat)
```
